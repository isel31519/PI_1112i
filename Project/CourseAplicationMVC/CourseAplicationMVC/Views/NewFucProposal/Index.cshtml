@using CourseAplicationLib
@model IEnumerable<FucProposal>

@{
    ViewBag.Title = "New Fuc Proposal List";
}      
<a href=@Url.Action("Index", "Home")>Home</a>
<h1>New Fuc Proposal List</h1>



<!--<script src="http://code.jquery.com/jquery-1.5.2.js" type="text/javascript"></script>
<script type="text/javascript">
    $(document).ready(function () {
        $('a.detailer').click(function (e) {
            e.preventDefault();
            $('#showDetail').slideDown();
            var http = new XMLHttpRequest();
            console.log($(this).attr("href"));
            http.open("GET", $(this).attr("href")+"?partial=true", false);
            http.onreadystatechange = window.useHttpResponse;
            http.send(null);

            if (http.readyState == 4 && http.status == 200) {
                var textout = http.responseText;
                console.log(textout);
                $('#showDetail').html(textout);
            }
        });
    });
</script>-->

<script src="http://code.jquery.com/jquery-1.5.2.js" type="text/javascript"></script>
<script src="~/Scripts/AccordionScript.js">
    $(document).ready(accord())
 </script>

@Html.Partial("Pagination")

<div>
   <table border="1" id="elems">
        <tr>
            <th>Proposal</th>
            <th>Acronym</th>
            <th>Creator</th>
            <th>Aproval</th>
        </tr>
        @foreach (var f in Model)
        {
        
            <tr>
                <td><a href=@Url.Action("Detail", "NewFucProposal", new { @id = f.Idx }) class="detailer"> Proposal @f.Idx</a></td>
                <td><a href=@Url.Action("Detail", "NewFucProposal", new { @id = f.Idx }) class="detailer">@f.Acr</a></td>
                <td><a href=@Url.Action("Detail", "Profile", new { @id = f.User }) class="detailer"> @f.User</a></td>
                <td>
                    @using (Html.BeginForm("Accept", "NewFucProposal", new {@id=f.Idx}, FormMethod.Post))
                    {
                        <input type="submit" value="Accept"/>
                    }
                    
                    @using (Html.BeginForm("Refuse", "NewFucProposal", new {@id=f.Idx}, FormMethod.Post))
                    {
                        <input type="submit" value="Refuse"/>
                    }
                </td>
            </tr>  
        }
    </table>
   <div id="showDetail"/> 
 
    
</div>


